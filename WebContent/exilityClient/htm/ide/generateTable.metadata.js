
 var ele;
var P2 = new PM.ExilityPage(window, 'generateTable');
P2.onLoadActionNames = [ 'getFolders'];
P2.pageWidth = 1028;
P2.pageHeight = 700;
P2.trackFieldChanges = true;
P2.breadCrumpTitle = 'generateTable';
P2.title = 'Generate Table';
ele = new PM.SelectionField();
ele.dataType = 'text';
ele.doNotValidate = true;
ele.isRequired = true;
ele.listServiceId = 'folders';
ele.onChangeActionName = 'getTables';
ele.noAutoLoad = true;
ele.selectFirstOption = true;
ele.selectionValueType = 'text';
ele.donotTrackChanges = true;
ele.name = 'folderName';
ele.label = 'Folder Name';
ele.value = '';
P2.addField(ele);
ele = new PM.SelectionField();
ele.blankOption = 'All Files';
ele.dataType = 'text';
ele.listServiceId = 'files';
ele.onChangeActionName = 'hideTrace';
ele.noAutoLoad = true;
ele.selectFirstOption = true;
ele.selectionValueType = 'text';
ele.donotTrackChanges = true;
ele.name = 'fileName';
ele.label = 'Table Name';
ele.value = '';
P2.addField(ele);
ele = new PM.HiddenField();
ele.dataType = 'text';
ele.defaultValue = 'table';
ele.name = 'resourceType';
ele.label = '';
ele.value = 'table';
P2.addField(ele);
ele = new PM.OutputField();
ele.dataType = 'text';
ele.name = 'nbrGenerated';
ele.label = 'Nbr pages generated';
ele.value = '';
P2.addField(ele);
ele = new PM.OutputField();
ele.dataType = 'text';
ele.allowHtmlFormattedText = true;
ele.name = 'traceText';
ele.label = '';
ele.value = '';
P2.addField(ele);
/***** action field = action  ********/
ele = new PM.ServerAction();
ele.name = 'action';
ele.serviceId = 'ide.generateTable';
ele.callBackActionName = 'showTrace';
ele.toRefreshPage = 'beforeMyAction';
ele.disableForm = true;
ele.resetFormModifiedState = true;
ele.queryFieldNames = [ 'fileName','folderName'];
ele.closeWindow = true;
ele.callBackEvenOnError = true;
ele.hidePanels = [ 'nbrGenerated','traceText'];
ele.queryFieldSources = [ 'fileName','folderName'];
P2.addAction(ele);
/***** action field = handleNoFolders  ********/
ele = new PM.LocalAction();
ele.name = 'handleNoFolders';
ele.functionName = 'handleNoFolders';
P2.addAction(ele);
/***** action field = getFolders  ********/
ele = new PM.ServerAction();
ele.name = 'getFolders';
ele.serviceId = 'ide.getFolders';
ele.callBackActionName = 'handleNoFolders';
ele.toRefreshPage = 'afterMyAction';
ele.disableForm = true;
ele.queryFieldNames = [ 'resourceType'];
ele.closeWindow = true;
ele.queryFieldSources = [ 'resourceType'];
P2.addAction(ele);
/***** action field = getTables  ********/
ele = new PM.ServerAction();
ele.name = 'getTables';
ele.serviceId = 'ide.getFiles';
ele.toRefreshPage = 'beforeMyAction';
ele.disableForm = true;
ele.queryFieldNames = [ 'resourceType','folderName'];
ele.closeWindow = true;
ele.hidePanels = [ 'nbrGenerated','traceText'];
ele.queryFieldSources = [ 'resourceType','folderName'];
P2.addAction(ele);
/***** action field = showTrace  ********/
ele = new PM.DummyAction();
ele.name = 'showTrace';
ele.showPanels = [ 'nbrGenerated','traceText'];
P2.addAction(ele);
/***** action field = hideTrace  ********/
ele = new PM.DummyAction();
ele.name = 'hideTrace';
ele.hidePanels = [ 'nbrGenerated','traceText'];
P2.addAction(ele);
/***** action field = close  ********/
ele = new PM.CloseAction();
ele.name = 'close';
ele.warnIfFormIsModified = true;
P2.addAction(ele);
/***** action field = reload  ********/
ele = new PM.ResetAction();
ele.name = 'reload';
ele.warnIfFormIsModified = true;
P2.addAction(ele);
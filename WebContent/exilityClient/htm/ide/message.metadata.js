
 var ele;
var P2 = new PM.ExilityPage(window, 'message');
P2.onLoadActionNames = [ 'checkForPageParameters'];
P2.pageWidth = 1028;
P2.pageHeight = 700;
P2.trackFieldChanges = true;
P2.breadCrumpTitle = 'message';
/*Page parameters */
ele = new PM.PageParameter();
ele.name = 'resourceName';
ele.setTo = 'fileName';
P2.addParameter(ele);

ele = new PM.AssistedInputField();
ele.dataType = 'text';
ele.isRequired = true;
ele.listServiceId = 'files';
ele.noAutoLoad = true;
ele.selectFirstOption = true;
ele.minCharsToTriggerService = 1;
ele.isValid = true;
ele.onUserChangeActionName = 'getMessages';
ele.codePickerLeft = -1;
ele.codePickerTop = -1;
ele.donotTrackChanges = true;
ele.suggestAfterMinChars = 1;
ele.name = 'fileName';
ele.label = 'File Name';
ele.value = '';
P2.addField(ele);
ele = new PM.HiddenField();
ele.dataType = 'text';
ele.defaultValue = 'message';
ele.name = 'resourceType';
ele.label = '';
ele.value = 'message';
P2.addField(ele);

/* MetaData for Panel :edit with table name = messages*/
ele = new PM.GridPanel();
ele.name = 'messages';
ele.panelName = 'edit';
ele.rowsCanBeAdded = true;
ele.showHeader = true;
ele.simulateClickOnRow = 'none';
ele.tableName = 'messages';
ele.minRows = 1;
ele.uniqueColumns = 'name';
ele.functionAfterAddRow = 'resetName';
ele.dataForNewRowToBeClonedFromRow = 'none';
ele.rowsCanBeDeleted = true;
ele.slideEffect = 'none';
//linkedTableName  DOES NOT EXIST

ele.actionFieldName = 'messages_bulkAction';
ele.idFieldName = 'messages_name';
ele.keyFieldName = 'messages_bulkAction';
ele.firstFieldName = 'messages_name';
P2.addTable(ele);
ele = new PM.StyleField();
ele.dataType = 'text';
ele.toBeSentToServer = true;
ele.name = 'messages_bulkAction';
ele.tableName = 'messages';
ele.unqualifiedName = 'bulkAction';
ele.label = '';
ele.value = '';
P2.addField(ele);
ele = new PM.TextInputField();
ele.dataType = 'text';
ele.isRequired = true;
ele.minCharsToTriggerService = 1;
ele.isValid = true;
ele.codePickerLeft = -1;
ele.codePickerTop = -1;
ele.name = 'messages_name';
ele.tableName = 'messages';
ele.unqualifiedName = 'name';
ele.label = 'Name';
ele.value = '';
P2.addField(ele);
ele = new PM.AssistedInputField();
ele.dataType = 'text';
ele.isRequired = true;
ele.selectFirstOption = true;
ele.minCharsToTriggerService = 1;
ele.isValid = true;
ele.valueList = 'IGNORE,ignore;INFO,info;WARNING,warning;ERROR,error';
ele.codePickerLeft = -1;
ele.codePickerTop = -1;
ele.suggestAfterMinChars = 1;
ele.name = 'messages_severity';
ele.tableName = 'messages';
ele.unqualifiedName = 'severity';
ele.label = 'Severity';
ele.value = '';
P2.addField(ele);
ele = new PM.TextInputField();
ele.dataType = 'text';
ele.isRequired = true;
ele.minCharsToTriggerService = 1;
ele.isValid = true;
ele.codePickerLeft = -1;
ele.codePickerTop = -1;
ele.name = 'messages_text';
ele.tableName = 'messages';
ele.unqualifiedName = 'text';
ele.label = 'Text';
ele.value = '';
P2.addField(ele);
ele = new PM.AssistedInputField();
ele.dataType = 'text';
ele.minCharsToTriggerService = 1;
ele.isValid = true;
ele.codePickerLeft = -1;
ele.codePickerTop = -1;
ele.suggestAfterMinChars = 1;
ele.name = 'messages_forClient';
ele.tableName = 'messages';
ele.unqualifiedName = 'forClient';
ele.label = 'Usage';
ele.value = '';
P2.addField(ele);
ele = new PM.HiddenField();
ele.dataType = 'text';
ele.defaultValue = 'Message';
ele.name = 'messages__type';
ele.tableName = 'messages';
ele.unqualifiedName = '_type';
ele.label = '';
ele.value = 'Message';
P2.addField(ele);
/***** action field = getFiles  ********/
ele = new PM.ServerAction();
ele.name = 'getFiles';
ele.serviceId = 'ide.getFiles';
ele.callBackActionName = 'getMessages';
ele.toRefreshPage = 'beforeMyAction';
ele.disableForm = true;
ele.queryFieldNames = [ 'resourceType'];
ele.closeWindow = true;
ele.queryFieldSources = [ 'resourceType'];
P2.addAction(ele);
/***** action field = getMessages  ********/
ele = new PM.ServerAction();
ele.name = 'getMessages';
ele.serviceId = 'ide.getMessages';
ele.toRefreshPage = 'beforeMyAction';
ele.disableForm = true;
ele.closeWindow = true;
P2.addAction(ele);
var getMessagesfieldsToSubmit = new Object();
 ele.fieldsToSubmit = getMessagesfieldsToSubmit;
var getMessagestablesToSubmit = new Object();
 ele.tablesToSubmit = getMessagestablesToSubmit;
getMessagesfieldsToSubmit['fileName'] = true;
/***** action field = save  ********/
ele = new PM.ServerAction();
ele.name = 'save';
ele.serviceId = 'ide.saveMessages';
ele.callBackActionName = 'getMessages';
ele.submitForm = true;
ele.toRefreshPage = 'none';
ele.resetFormModifiedState = true;
ele.closeWindow = true;
P2.addAction(ele);
/***** action field = checkForPageParameters  ********/
ele = new PM.LocalAction();
ele.name = 'checkForPageParameters';
ele.functionName = 'checkForPageParameters';
P2.addAction(ele);
/***** action field = close  ********/
ele = new PM.CloseAction();
ele.name = 'close';
ele.warnIfFormIsModified = true;
P2.addAction(ele);
/***** action field = reload  ********/
ele = new PM.ResetAction();
ele.name = 'reload';
ele.warnIfFormIsModified = true;
P2.addAction(ele);